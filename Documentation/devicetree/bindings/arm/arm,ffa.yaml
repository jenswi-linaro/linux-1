# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/arm/arm,ffa.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Arm Firmware Framework for Arm v8-A (in-kernel users)

maintainers:
  - Sudeep Holla <sudeep.holla@arm.com>

description: |
  Firmware frameworks implementing partition according to the FF-A
  specification defined by ARM document number ARM DEN 0077A ("Arm Firmware
  Framework for Arm v8-A") [0], providing services to be used by other
  partitions.

  [0] https://developer.arm.com/docs/den0077/latest

properties:
  $nodename:
    const: ffa

  compatible:
    oneOf:
      - const: arm,ffa-1.0

patternProperties:
  "^ffa_partition[0-9]+$":
    type: object
    description: One or more child nodes, each describing an FFA partition.
    properties:
      $nodename:
        const: ffa_partition

      compatible:
        oneOf:
          - const: arm,ffa-1.0-partition

      uuid:
        $ref: '/schemas/types.yaml#definitions/string'
        description: |
          The 128-bit UUID [2] of the service implemented by this partition.

          [2] https://tools.ietf.org/html/rfc4122

additionalProperties: false

examples:
  - |
    ffa {
      compatible = "arm,ffa-1.0";

      ffa_partition0 {
        compatible = "arm,ffa-1.0-partition";
        uuid = "12345678-9abc-def0-1234-56789abcdef0";
      };
    };
